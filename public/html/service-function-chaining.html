<h1>Service Function Chaining</h1>
<div class="row">
  <div class="col-md-4">
    <form>
      <div class="form-group">
        <label>
          Number of Neutron Ports in the Chain
          <input type="number" class="form-control" ng-model="maxChainOrderNr">
        </label>
      </div>
      <button ng-disabled="!maxChainOrderIsValid(maxChainOrderNr)" ng-click="applyMaxChainOrder()" class="btn btn-primary">Apply Number</button>
      <button class="btn btn-primary" ng-disabled="!chainIsValid(neutronPorts, maxChainOrder)" ng-click="createServiceChain(neutronPorts)">Create Service Chain</button>
    </form>
  </div>
  <div class="col-md-8">
    <div class="panel panel-{{ (chainIsValid(neutronPorts, maxChainOrder)) ? 'primary' : 'warning'; }}">
        <div class="panel-heading">
          <h3 class="panel-title">Service Chain {{ (chainIsValid(neutronPorts, maxChainOrder)) ? '(valid)' : '(invalid)'; }}</h3>
        </div>
      <div class="panel-body">
        {{ (getServiceChain(neutronPorts).length == 0 || !chainIsValid(neutronPorts, maxChainOrder)) ? "Empty" : getServiceChain(neutronPorts).join(","); }}
      </div>
    </div>
  </div>
</div>
<table class="table">
  <tbody>
    <tr>
      <th>order</th>
      <th>id</th>
      <th>mac_address</th>
      <th>fixed_ips</th>
    </tr>
    <tr ng-repeat="port in neutronPorts">
      <td>
        <div class="btn-group" uib-dropdown on-toggle="port.dropDownToggled(open);" is-open="status.isopen">
          <button id="single-button" type="button" class="btn btn-primary" uib-dropdown-toggle ng-disabled="disabled">
            {{ port.selectedOrder }} <span class="caret"></span>
          </button>
          <ul uib-dropdown-menu aria-labelledby="single-button" >
            <li ng-repeat="(idx, order) in maxChainOrder track by $index"><a ng-click="selectOrder(port, order)" role="button">{{ order }}</a></li>
          </ul>
        </div>
      </td>
      <td>{{ port.id }}</td>
      <td>{{ port.mac_address }}</td>
      <td>{{ port.fixed_ips }}</td>
    </tr>
  </tbody>
</table>